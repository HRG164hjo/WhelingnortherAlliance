<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Gravship Expanded - Chapter 1</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="VGE_GunnerSubpersonaCore" or defName="VGE_MaintenanceHub" or defName="VGE_CapacitorHarmonizer" or defName="VGE_Gravlift" or defName="VGE_GravshipBlackBox" or defName="VGE_FlightComputer"]/statBases/Flammability</xpath>
					<value>
						<Flammability>0</Flammability>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="VGE_GunnerSubpersonaCore" or defName="VGE_MaintenanceHub" or defName="VGE_CapacitorHarmonizer" or defName="VGE_Gravlift" or defName="VGE_GravshipBlackBox" or defName="VGE_FlightComputer"]</xpath>
					<value>
						<useHitPoints>false</useHitPoints>
						<stealable>false</stealable>
						<designationCategory>Odyssey</designationCategory>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="WNA_GravliteManifold"]/comps/li[@Class="CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
					<value>
						<li>VGE_OxygenReclaimer</li>
						<li>VGE_SmallHeatsink</li>
						<li>VGE_LargeHeatsink</li>
						<li>VGE_GravheatAbsorber</li>
						<li>VGE_GravFieldAmplifier</li>
						<li>VGE_GiantThruster</li>
						<li>VGE_GunnerSubpersonaCore</li>
						<li MayRequire="Ludeon.RimWorld.Biotech">VGE_OperatorSubpersonaCore</li>
						<li>VGE_Gravlift</li>
						<li>VGE_GravtechConsole</li>
						<li>VGE_GravshipBlackBox</li>
						<li>VGE_GiantAstrofuelTank</li>
						<li>VGE_PilotCockpit</li>
						<li>VGE_PilotBridge</li>
						<li>VGE_CopilotConsole</li>
						<li>VGE_EngineeringConsole</li>
						<li>VGE_MaintenanceHub</li>
						<li>VGE_FlightComputer</li>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="WNA_GravliteManifold"]/statBases</xpath>
					<value>
						<VGE_MaintenanceSensitivity>0</VGE_MaintenanceSensitivity>
						<VGE_GlobalMaintenanceSensitivity>0</VGE_GlobalMaintenanceSensitivity>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="WNA_GravliteManifold"]/comps</xpath>
					<value>
						<li>
							<compClass>VanillaGravshipExpanded.CompMultipleGravEnginesHandler</compClass>
						</li>
						<li Class="VanillaGravshipExpanded.CompProperties_GravMaintainable"/>
      					<li Class="VanillaGravshipExpanded.CompProperties_HeatManager" />
					</value>
				</li>
						
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="WNA_Conduit" or @Name="WNA_WallWithConduit"]/comps</xpath>
					<value>
						<li Class="PipeSystem.CompProperties_Resource">
							<pipeNet>VGE_OxygenNet</pipeNet>
	  					</li>
						<li Class="PipeSystem.CompProperties_Resource">
							<pipeNet>VGE_AstrofuelNet</pipeNet>
	  					</li>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="WNA_LifeSupporter"]/comps</xpath>
					<value>
						<li Class="PipeSystem.CompProperties_ResourceTrader">
							<pipeNet>VGE_OxygenNet</pipeNet>
							<consumptionPerTick>-24</consumptionPerTick>
							<resourceOffOverlay>false</resourceOffOverlay>
						</li>
						<li Class="PipeSystem.CompProperties_ResourceTrader">
							<pipeNet>VGE_AstrofuelNet</pipeNet>
							<consumptionPerTick>-24</consumptionPerTick>
							<resourceOffOverlay>false</resourceOffOverlay>
						</li>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="WNA_BasicCrate" or defName="WNA_WallSafe"]/comps</xpath>
					<value>
						<li Class="PipeSystem.CompProperties_ResourceStorage">
							<pipeNet>VGE_OxygenNet</pipeNet>
							<storageCapacity>1000000</storageCapacity>
							<drawStorageBar>false</drawStorageBar>
							<contentRequirePower>false</contentRequirePower>
						</li>
						<li Class="PipeSystem.CompProperties_ResourceStorage">
							<pipeNet>VGE_AstrofuelNet</pipeNet>
							<storageCapacity>1000000</storageCapacity>
							<drawStorageBar>false</drawStorageBar>
							<contentRequirePower>false</contentRequirePower>
						</li>
					</value>
				</li>
			</operations>
		</match>
	</Operation>
</Patch>